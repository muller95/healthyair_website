sudo: required
dist: trusty

language: go

os: linux

go:
  1.8.1

services:
  mysql

before_install:
  ./travis-install.sh

install:
  go build server.go main_page.go register.go authorize.go sessions.go

before_script:
  cat "./config/my.cnf" | sudo tee -a /etc/mysql/my.cnf
  sudo service mysql restart

script:
  go test server_test.go